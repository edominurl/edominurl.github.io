<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guía de Aprendizaje Semana 3 - Programación 1</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; background: #f5f5f5; padding: 20px; }
        .container { max-width: 1000px; margin: 0 auto; background: white; padding: 40px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .header { text-align: center; border-bottom: 3px solid #003366; padding-bottom: 20px; margin-bottom: 30px; }
        .header h1 { color: #003366; font-size: 24px; margin-bottom: 10px; }
        .header-info { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 20px; text-align: left; }
        .header-info div { background: #f8f9fa; padding: 8px 12px; border-left: 3px solid #003366; font-size: 14px; }
        .section-title { font-size: 20px; color: #003366; margin: 30px 0 20px 0; padding-bottom: 10px; border-bottom: 2px solid #e0e0e0; display: flex; align-items: center; gap: 10px; }
        .subsection { background: #f8f9fa; padding: 20px; margin: 20px 0; border-radius: 8px; border-left: 4px solid #003366; }
        .subsection h3 { color: #003366; margin-bottom: 15px; display: flex; align-items: center; gap: 10px; }
        .field { margin: 20px 0; }
        .field label { font-weight: bold; color: #003366; display: block; margin-bottom: 8px; }
        .field-content { color: #555; line-height: 1.8; }
        .cronograma table { width: 100%; border-collapse: collapse; background: white; }
        .cronograma th { background: #003366; color: white; padding: 12px; text-align: left; }
        .cronograma td { padding: 12px; border: 1px solid #dee2e6; }
        .cronograma tr:nth-child(even) { background: #f8f9fa; }
        .total-row { font-weight: bold; background: #e9ecef !important; }
        pre[class*="language-"] { margin: 12px 0; border-radius: 8px; }
        code[class*="language-"] { font-size: 13px; }
        .course-nav { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 15px 20px; margin: -40px -40px 30px -40px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .course-nav-container { display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 15px; }
        .nav-links { display: flex; gap: 10px; flex-wrap: wrap; }
        .nav-dropdown { position: relative; display: inline-block; }
        .nav-btn { background: rgba(255,255,255,0.2); color: white; border: 1px solid rgba(255,255,255,0.3); padding: 8px 16px; border-radius: 5px; cursor: pointer; font-size: 14px; font-weight: 500; transition: all 0.3s; text-decoration: none; display: inline-block; }
        .nav-btn:hover { background: rgba(255,255,255,0.3); transform: translateY(-2px); }
        .nav-btn.active { background: white; color: #667eea; font-weight: bold; }
        .dropdown-content { display: none; position: absolute; background: white; min-width: 220px; box-shadow: 0 8px 16px rgba(0,0,0,0.2); z-index: 1; border-radius: 5px; margin-top: 0; }
        .dropdown-content a { color: #333; padding: 12px 16px; text-decoration: none; display: block; border-bottom: 1px solid #f0f0f0; transition: background 0.2s; }
        .dropdown-content a:hover { background: #f8f9fa; }
        .dropdown-content a.active-link { background: #e3f2fd; color: #1976d2; font-weight: bold; }
        .nav-dropdown:hover .dropdown-content { display: block; }
        .nav-home-btn { background: rgba(255,255,255,0.9); color: #667eea; font-weight: bold; }
        @media (max-width: 768px) { .header-info{grid-template-columns:1fr;} .course-nav-container{flex-direction:column; align-items:stretch;} .nav-links{flex-direction:column;} .nav-btn{width:100%; text-align:center;} }
    </style>
</head>
<body>
    <div class="container">
        <!-- Navegación del curso -->
        <nav class="course-nav">
            <div class="course-nav-container">
                <a href="index.html" class="nav-btn nav-home-btn"><i class="fas fa-home"></i> Inicio del Curso</a>
                <div class="nav-links">
                    <div class="nav-dropdown">
                        <button class="nav-btn"><i class="fas fa-book"></i> Semana 1 <i class="fas fa-chevron-down"></i></button>
                        <div class="dropdown-content">
                            <a href="guia-aprendizaje-semana-1.html"><i class="fas fa-book-reader"></i> Guía de Aprendizaje 1</a>
                            <a href="sesion-clase-semana-1.html"><i class="fas fa-chalkboard-teacher"></i> Sesión de Clase 1</a>
                        </div>
                    </div>
                    <div class="nav-dropdown">
                        <button class="nav-btn"><i class="fas fa-book"></i> Semana 2 <i class="fas fa-chevron-down"></i></button>
                        <div class="dropdown-content">
                            <a href="guia-aprendizaje-semana-2.html"><i class="fas fa-book-reader"></i> Guía de Aprendizaje 2</a>
                            <a href="sesion-clase-semana-2.html"><i class="fas fa-chalkboard-teacher"></i> Sesión de Clase 2</a>
                        </div>
                    </div>
                    <div class="nav-dropdown">
                        <button class="nav-btn active"><i class="fas fa-book"></i> Semana 3 <i class="fas fa-chevron-down"></i></button>
                        <div class="dropdown-content">
                            <a href="guia-aprendizaje-semana-3.html" class="active-link"><i class="fas fa-book-reader"></i> Guía de Aprendizaje 3</a>
                            <a href="sesion-clase-semana-3.html"><i class="fas fa-chalkboard-teacher"></i> Sesión de Clase 3</a>
                            <a href="hoja-resumen-semana-3.html"><i class="fas fa-file-lines"></i> Hoja resumen Semana 3</a>
                            <a href="ruta-rapida-semana-3.html"><i class="fas fa-bolt"></i> Ruta Rápida Semana 3</a>
                        </div>
                    </div>
                    <div class="nav-dropdown">
                        <button class="nav-btn"><i class="fas fa-book"></i> Semana 4 <i class="fas fa-chevron-down"></i></button>
                        <div class="dropdown-content">
                            <a href="guia-aprendizaje-semana-4.html"><i class="fas fa-book-reader"></i> Guía de Aprendizaje 4</a>
                            <a href="sesion-clase-semana-4.html"><i class="fas fa-chalkboard-teacher"></i> Sesión de Clase 4</a>
                        </div>
                    </div>
                </div>
            </div>
        </nav>

        <div class="header">
            <h1>Universidad Rafael Landívar</h1>
            <p>Facultad de Humanidades</p>
            <p>Departamento de Educación</p>
            <h2 style="margin-top: 20px; color: #003366;">Guía de aprendizaje núm. 3</h2>
            <div class="header-info">
                <div><strong>Profesorado:</strong> Profesorados con Especialidad en Tecnología</div>
                <div><strong>Año:</strong> Psicopedagógico 2025</div>
                <div><strong>Curso:</strong> Programación 1 - Python + Flask</div>
                <div><strong>Semana:</strong> 3 - Formularios, Validación, UPDATE/DELETE y Dashboard</div>
            </div>
        </div>

        <h2 class="section-title"><i class="fas fa-bullseye"></i> Objetivos de aprendizaje</h2>
        <div class="field"><div class="field-content">
            Al finalizar esta guía de aprendizaje autónomo, el estudiante será capaz de:
            <ul>
                <li><strong>Construir</strong> formularios HTML accesibles con validaciones del lado del cliente y del servidor</li>
                <li><strong>Implementar</strong> operaciones UPDATE y DELETE con SQLite desde Flask</li>
                <li><strong>Aplicar</strong> estilos Bootstrap para lograr una interfaz responsive</li>
                <li><strong>Diseñar</strong> un dashboard con visualizaciones básicas usando Chart.js</li>
                <li><strong>Integrar</strong> mensajes flash para retroalimentación al usuario</li>
            </ul>
        </div></div>
        <div class="field" style="margin-top:10px;">
            <label style="font-weight:bold; color:#003366;"><i class="fas fa-clipboard-check"></i> Indicadores de logro</label>
            <div class="field-content">
                <ul style="margin-top:5px;">
                    <li>Formulario: todos los campos tienen <code>&lt;label&gt;</code>, validación HTML5 y se rechazan entradas inválidas.</li>
                    <li>Servidor: rutas CRUD responden con estado correcto y muestran mensaje flash adecuado.</li>
                    <li>Base de datos: cambios persistidos y consultables tras recargar la aplicación.</li>
                    <li>Dashboard: al menos 2 fuentes de datos transformadas en visualizaciones interpretables.</li>
                    <li>Accesibilidad: foco visible y textos con contraste AA (WCAG 2.1).</li>
                </ul>
            </div>
        </div>

        <div style="background: #fff3cd; padding: 20px; border-radius: 8px; margin-bottom: 20px; border-left: 4px solid #ffc107;">
            <h3 style="color: #856404; margin-bottom: 10px;"><i class="fas fa-lightbulb"></i> Metodología de Aprendizaje Invertido</h3>
            <p style="color: #856404; font-size: 14px;">Completa este material de <strong>estudio previo</strong> antes de la sesión sincrónica del sábado. <strong>Tiempo estimado total: 9.5 horas</strong>.</p>
        </div>

        <!-- PARTE 1: Formularios y Validación -->
        <div class="subsection">
            <h3><i class="fas fa-clipboard-list"></i> Parte 1: Formularios HTML y Validación (3 horas)</h3>
            <div class="field">
                <label><i class="fas fa-info-circle"></i> Elementos clave y accesibilidad</label>
                <div class="field-content">
                    <ul>
                        <li>Controles básicos: <code>input</code> (text, number, email), <code>textarea</code>, <code>select</code>, <code>button</code></li>
                        <li>Buenas prácticas: etiquetas &lt;label&gt; asociadas, descripciones, mensajes de error claros</li>
                        <li>Validación en cliente: atributos HTML5 (<code>required</code>, <code>min</code>, <code>max</code>, <code>pattern</code>)</li>
                        <li>Validación en servidor: sanitización, mensajes flash</li>
                    </ul>
                </div>
            </div>
            <div class="field">
                <label><i class="fas fa-code"></i> Formulario base con Bootstrap (cliente)</label>
                <div class="field-content">
<pre><code class="language-html">&lt;form method="post" action="/estudiantes/nuevo" class="row g-3" novalidate&gt;
  &lt;div class="col-md-6"&gt;
    &lt;label for="nombre" class="form-label"&gt;Nombre&lt;/label&gt;
    &lt;input id="nombre" name="nombre" class="form-control" required minlength="3" /&gt;
    &lt;div class="invalid-feedback"&gt;Ingrese al menos 3 caracteres.&lt;/div&gt;
  &lt;/div&gt;
  &lt;div class="col-md-3"&gt;
    &lt;label for="grado" class="form-label"&gt;Grado&lt;/label&gt;
    &lt;select id="grado" name="grado" class="form-select" required&gt;
      &lt;option value="" selected disabled&gt;Seleccione...&lt;/option&gt;
      &lt;option&gt;4to Primaria&lt;/option&gt;
      &lt;option&gt;5to Primaria&lt;/option&gt;
      &lt;option&gt;6to Primaria&lt;/option&gt;
    &lt;/select&gt;
    &lt;div class="invalid-feedback"&gt;Seleccione un grado.&lt;/div&gt;
  &lt;/div&gt;
  &lt;div class="col-md-3"&gt;
    &lt;label for="promedio" class="form-label"&gt;Promedio&lt;/label&gt;
    &lt;input id="promedio" name="promedio" type="number" min="0" max="100" step="0.1" class="form-control" required /&gt;
    &lt;div class="invalid-feedback"&gt;Ingrese un número entre 0 y 100.&lt;/div&gt;
  &lt;/div&gt;
  &lt;div class="col-12"&gt;
    &lt;button class="btn btn-primary" type="submit"&gt;Guardar&lt;/button&gt;
  &lt;/div&gt;
&lt;/form&gt;</code></pre>
<pre><code class="language-javascript">// Validación Bootstrap (cliente)
(() =&gt; {
  'use strict';
  const forms = document.querySelectorAll('form[novalidate]');
  Array.from(forms).forEach(form =&gt; {
    form.addEventListener('submit', event =&gt; {
      if (!form.checkValidity()) {
        event.preventDefault();
        event.stopPropagation();
      }
      form.classList.add('was-validated');
    }, false);
  });
})();</code></pre>
                </div>
            </div>
            <div class="field">
                <label><i class="fas fa-server"></i> Validación en el servidor (Flask)</label>
                <div class="field-content">
<pre><code class="language-python">from flask import Flask, render_template, request, redirect, url_for, flash
import sqlite3

app = Flask(__name__)
app.secret_key = 'dev'

def get_conn():
    conn = sqlite3.connect('escuela.db')
    conn.row_factory = sqlite3.Row
    return conn

@app.route('/', methods=['GET'])
def inicio():
    with get_conn() as c:
        estudiantes = c.execute('SELECT * FROM estudiantes').fetchall()
    return render_template('inicio.html', estudiantes=estudiantes)

@app.route('/estudiantes/nuevo', methods=['POST'])
def crear():
    nombre = request.form.get('nombre','').strip()
    grado = request.form.get('grado','')
    promedio = request.form.get('promedio','')
    if not nombre or len(nombre) &lt; 3:
        flash('Nombre inválido', 'danger')
        return redirect(url_for('inicio'))
    try:
        promedio = float(promedio)
    except ValueError:
        flash('Promedio inválido', 'danger')
        return redirect(url_for('inicio'))
    with get_conn() as c:
        c.execute('INSERT INTO estudiantes(nombre, grado, promedio) VALUES(?,?,?)', (nombre, grado, promedio))
    flash('Estudiante creado', 'success')
    return redirect(url_for('inicio'))</code></pre>
                </div>
            </div>
            <div class="field">
                <label><i class="fas fa-vial"></i> Pruebas rápidas de validación</label>
                <div class="field-content">
<pre><code class="language-bash"># Valores de prueba
curl -X POST -F "nombre=A" -F "grado=4to Primaria" -F "promedio=80" http://localhost:5000/estudiantes/nuevo   # debería fallar (nombre corto)
curl -X POST -F "nombre=Ana" -F "grado=4to Primaria" -F "promedio=abc" http://localhost:5000/estudiantes/nuevo # debería fallar (promedio inválido)
curl -X POST -F "nombre=María" -F "grado=5to Primaria" -F "promedio=95" http://localhost:5000/estudiantes/nuevo # debería pasar</code></pre>
                </div>
            </div>
            <div class="field">
                <label><i class="fas fa-eye"></i> Estado derivado</label>
                <div class="field-content">
<pre><code class="language-sql">ALTER TABLE estudiantes ADD COLUMN estado TEXT;
UPDATE estudiantes SET estado = CASE WHEN promedio &gt;= 60 THEN 'Aprobado' ELSE 'Reprobado' END;</code></pre>
<pre><code class="language-python"># Cálculo de estado en creación
estado = 'Aprobado' if promedio &gt;= 60 else 'Reprobado'
with get_conn() as c:
    c.execute('INSERT INTO estudiantes(nombre, grado, promedio, estado) VALUES(?,?,?,?)', (nombre, grado, promedio, estado))</code></pre>
                </div>
            </div>
        </div>

        <!-- PARTE 2: UPDATE y DELETE en SQLite -->
        <div class="subsection">
            <h3><i class="fas fa-database"></i> Parte 2: Operaciones UPDATE y DELETE (3 horas)</h3>
            <div class="field">
                <label><i class="fas fa-pen-to-square"></i> UPDATE</label>
                <div class="field-content">
<pre><code class="language-python">@app.route('/estudiantes/&lt;int:id&gt;/editar', methods=['POST'])
def editar(id):
    nombre = request.form['nombre']
    grado = request.form['grado']
    promedio = float(request.form['promedio'])
    with get_conn() as c:
        c.execute('UPDATE estudiantes SET nombre=?, grado=?, promedio=? WHERE id=?', (nombre, grado, promedio, id))
    flash('Estudiante actualizado', 'success')
    return redirect(url_for('inicio'))</code></pre>
                </div>
            </div>
                        <div class="field">
                                <label><i class="fas fa-trash"></i> DELETE (con confirmación)</label>
                                <div class="field-content">
<pre><code class="language-python">@app.route('/estudiantes/&lt;int:id&gt;/eliminar', methods=['POST'])
def eliminar(id):
    with get_conn() as c:
        c.execute('DELETE FROM estudiantes WHERE id=?', (id,))
    flash('Estudiante eliminado', 'warning')
    return redirect(url_for('inicio'))</code></pre>
<pre><code class="language-html">&lt;form method="post" action="/estudiantes/{{ e.id }}/eliminar" onsubmit="return confirm('¿Eliminar definitivamente?');"&gt;
  &lt;button class="btn btn-sm btn-danger" type="submit"&gt;Eliminar&lt;/button&gt;
&lt;/form&gt;</code></pre>
                </div>
            </div>
                        <div class="field">
                                <label><i class="fas fa-filter"></i> Paginación y filtrado (concepto)</label>
                                <div class="field-content">
<pre><code class="language-python"># Consulta paginada (simple)
PAGE_SIZE = 10
@app.route('/?page=&lt;int:page&gt;')
def listado(page=1):
        offset = (page - 1) * PAGE_SIZE
        with get_conn() as c:
                ests = c.execute('SELECT * FROM estudiantes LIMIT ? OFFSET ?', (PAGE_SIZE, offset)).fetchall()
        return render_template('inicio.html', estudiantes=ests, page=page)</code></pre>
<pre><code class="language-javascript">// Filtro por nombre (cliente)
const filtro = document.getElementById('filtro');
if (filtro) {
    filtro.addEventListener('input', () =&gt; {
        const term = filtro.value.toLowerCase();
        document.querySelectorAll('table tbody tr').forEach(tr =&gt; {
            const nombre = tr.children[1].textContent.toLowerCase();
            tr.style.display = nombre.includes(term) ? '' : 'none';
        });
    });
}</code></pre>
                                </div>
                        </div>
            <div class="field">
                <label><i class="fas fa-table"></i> Tabla con Bootstrap + flash</label>
                <div class="field-content">
<pre><code class="language-html">&lt;div class="container py-3"&gt;
  {% for cat, msg in get_flashed_messages(with_categories=True) %}
    &lt;div class="alert alert-{{ cat }}" role="alert"&gt;{{ msg }}&lt;/div&gt;
  {% endfor %}
  &lt;table class="table table-striped"&gt; ... &lt;/table&gt;
&lt;/div&gt;</code></pre>
                </div>
            </div>
                        <div class="field">
                                <label><i class="fas fa-file-csv"></i> Exportación CSV</label>
                                <div class="field-content">
<pre><code class="language-python">@app.route('/export.csv')
def export_csv():
        import csv, io
        output = io.StringIO()
        writer = csv.writer(output)
        writer.writerow(['id','nombre','grado','promedio','estado'])
        with get_conn() as c:
                for row in c.execute('SELECT id, nombre, grado, promedio, estado FROM estudiantes'):
                        writer.writerow([row['id'], row['nombre'], row['grado'], row['promedio'], row.get('estado','')])
        resp = app.response_class(output.getvalue(), mimetype='text/csv')
        resp.headers['Content-Disposition'] = 'attachment; filename=estudiantes.csv'
        return resp</code></pre>
                                </div>
                        </div>
        </div>

        <!-- PARTE 3: Dashboard con Chart.js -->
        <div class="subsection">
            <h3><i class="fas fa-chart-pie"></i> Parte 3: Dashboard y Visualizaciones (3.5 horas)</h3>
            <div class="field">
                <label><i class="fas fa-chart-simple"></i> Ejemplo básico</label>
                <div class="field-content">
<pre><code class="language-html">&lt;div class="row"&gt;
  &lt;div class="col-md-6"&gt;
    &lt;canvas id="chartBarras" height="140"&gt;&lt;/canvas&gt;
  &lt;/div&gt;
  &lt;div class="col-md-6"&gt;
    &lt;canvas id="chartPastel" height="140"&gt;&lt;/canvas&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;script src="https://cdn.jsdelivr.net/npm/chart.js"&gt;&lt;/script&gt;
&lt;script&gt;
new Chart(document.getElementById('chartBarras'), {type:'bar', data:{labels:['4to','5to','6to'], datasets:[{label:'Estudiantes', data:[12,9,7], backgroundColor:'#1976d2'}]}});
new Chart(document.getElementById('chartPastel'), {type:'pie', data:{labels:['Aprobados','Reprobados'], datasets:[{data:[22,6], backgroundColor:['#2e7d32','#c62828']}]} });
&lt;/script&gt;</code></pre>
                </div>
            </div>
            <div class="field">
                <label><i class="fas fa-universal-access"></i> Accesibilidad y UX</label>
                <div class="field-content">
                    <ul>
                        <li>Contraste, tamaño de fuente, foco visible</li>
                        <li>Textos alternativos y descripciones</li>
                        <li>Navegación clara y consistente</li>
                    </ul>
                </div>
            </div>
            <div class="field">
                <label><i class="fas fa-code-branch"></i> Datos dinámicos vía API</label>
                <div class="field-content">
<pre><code class="language-python">@app.route('/api/estadisticas')
def api_estadisticas():
    with get_conn() as c:
        grados = c.execute('SELECT grado, COUNT(*) cant FROM estudiantes GROUP BY grado').fetchall()
        estados = c.execute('SELECT estado, COUNT(*) cant FROM estudiantes GROUP BY estado').fetchall()
    return {
        'grados': {g['grado']: g['cant'] for g in grados},
        'estados': {e['estado']: e['cant'] for e in estados}
    }</code></pre>
<pre><code class="language-javascript">fetch('/api/estadisticas')
.then(r =&gt; r.json())
.then(data =&gt; {
  new Chart(document.getElementById('chartBarras'), {
    type:'bar',
    data:{labels:Object.keys(data.grados), datasets:[{label:'Estudiantes', data:Object.values(data.grados), backgroundColor:'#1976d2'}]}
  });
});</code></pre>
                </div>
            </div>
            <div class="field">
                <label><i class="fas fa-eye-dropper"></i> Temas avanzados</label>
                <div class="field-content">
                    <ul>
                        <li>Anotaciones sobre el gráfico para valores máximos.</li>
                        <li>Uso de leyendas personalizadas para accesibilidad.</li>
                        <li>Manejo de reducción de movimiento (prefers-reduced-motion).</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- CRONOGRAMA -->
        <div class="cronograma">
            <h2 class="section-title"><i class="fas fa-calendar-alt"></i> Cronograma de trabajo autónomo - Semana 3</h2>
            <table>
                <thead>
                    <tr>
                        <th>Actividad</th>
                        <th>Tiempo estimado</th>
                        <th>Día sugerido</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td>Formularios y validación (videos + práctica)</td><td>2 h</td><td>Lunes</td></tr>
                    <tr><td>UPDATE/DELETE con SQLite (lectura + práctica)</td><td>2 h</td><td>Martes</td></tr>
                    <tr><td>Bootstrap básico aplicado a proyecto</td><td>1.5 h</td><td>Miércoles</td></tr>
                    <tr><td>Dashboard con Chart.js (video + ejemplo)</td><td>1.5 h</td><td>Jueves</td></tr>
                    <tr><td>Refactor + pruebas y mensajes flash</td><td>2.5 h</td><td>Viernes</td></tr>
                    <tr class="total-row"><td><strong>Total</strong></td><td><strong>9.5 h</strong></td><td></td></tr>
                </tbody>
            </table>
        </div>

        <!-- ENTREGABLES -->
        <div class="subsection" style="background:#e8f5e9; border-left-color:#2e7d32;">
            <h3 style="color:#2e7d32;"><i class="fas fa-box"></i> Productos a lograr</h3>
            <ul>
                <li>Sistema CRUD funcionando (create, read, update, delete)</li>
                <li>Dashboard con al menos 3 visualizaciones</li>
                <li>Interfaz responsive (móvil y escritorio)</li>
                <li>Mensajes de confirmación y error (flash)</li>
                <li>Navegación intuitiva entre secciones</li>
                <li>Estilos Bootstrap coherentes</li>
            </ul>
        </div>
        <div class="subsection" style="background:#e1f5fe; border-left-color:#0288d1;">
            <h3 style="color:#01579b;"><i class="fas fa-clipboard-list"></i> Rúbrica sugerida</h3>
            <table class="table table-sm table-bordered">
                <thead style="background:#01579b; color:#fff;">
                    <tr><th>Criterio</th><th>Excelente</th><th>Aceptable</th><th>Mejorable</th></tr>
                </thead>
                <tbody>
                    <tr><td>Formulario</td><td>Validación completa + accesible</td><td>Validación parcial</td><td>Errores frecuentes</td></tr>
                    <tr><td>CRUD</td><td>Opera sin fallos y mensajes claros</td><td>Opera con detalles menores</td><td>Fallas en operaciones</td></tr>
                    <tr><td>Dashboard</td><td>3 visualizaciones útiles</td><td>2 visualizaciones básicas</td><td>1 o ninguna gráfica</td></tr>
                    <tr><td>UX/Accesibilidad</td><td>Contraste y foco correctos</td><td>Algunos problemas</td><td>Dificulta uso</td></tr>
                    <tr><td>Código</td><td>Estructurado y comentado</td><td>Legible</td><td>Desordenado</td></tr>
                </tbody>
            </table>
        </div>

        <!-- RECURSOS -->
        <div class="subsection" style="background:#fff3cd; border-left-color:#ffc107;">
            <h3 style="color:#856404;"><i class="fas fa-link"></i> Recursos recomendados</h3>
            <ul>
                <li><a href="https://flask.palletsprojects.com/en/3.0.x/quickstart/" target="_blank">Flask Quickstart</a></li>
                <li><a href="https://getbootstrap.com/docs/5.3/forms/overview/" target="_blank">Bootstrap Forms</a></li>
                <li><a href="https://www.sqlite.org/lang.html" target="_blank">SQLite SQL Language</a></li>
                <li><a href="https://www.chartjs.org/docs/latest/" target="_blank">Chart.js Docs</a></li>
                <li><a href="https://developer.mozilla.org/es/docs/Learn/Forms/Form_validation" target="_blank">MDN: Validación de formularios</a></li>
            </ul>
        </div>

        <div class="subsection" style="background:#f3e5f5; border-left-color:#7b1fa2;">
            <h3 style="color:#4a148c;"><i class="fas fa-check"></i> Lista de verificación</h3>
            <ul>
                <li>¿Todos los campos de formularios tienen &lt;label&gt; y validación?</li>
                <li>¿Las operaciones UPDATE/DELETE están protegidas (POST) y validadas?</li>
                <li>¿La interfaz es usable en móvil (col-12/col-md-*)?</li>
                <li>¿Los gráficos muestran datos significativos y legibles?</li>
                <li>¿Hay retroalimentación al usuario (flash) en cada operación?</li>
            </ul>
        </div>
        <div class="subsection" style="background:#fff8e1; border-left-color:#ffb300;">
            <h3 style="color:#ff6f00;"><i class="fas fa-tools"></i> Troubleshooting rápido</h3>
            <ul>
                <li><strong>Error:</strong> "no such table" → Ejecutar script de creación antes de rutas.</li>
                <li><strong>Promedio no convierte:</strong> Revisar tipo y usar <code>float()</code> con try/except.</li>
                <li><strong>Modal no abre:</strong> Incluir bundle JS de Bootstrap al final del body.</li>
                <li><strong>Gráfica vacía:</strong> Verificar estructura JSON devuelta por endpoint.</li>
            </ul>
        </div>
        <div class="subsection" style="background:#ede7f6; border-left-color:#5e35b1;">
            <h3 style="color:#311b92;"><i class="fas fa-seedling"></i> Próximos pasos (autonomía)</h3>
            <ol>
                <li>Implementar autenticación básica (login/logout).</li>
                <li>Agregar roles (solo admin elimina).</li>
                <li>Crear pruebas unitarias con <code>pytest</code>.</li>
                <li>Integrar exportación a XLSX.</li>
                <li>Usar Blueprints para modularizar.</li>
            </ol>
        </div>

    </div>
    <!-- ===================== ANEXOS DIDÁCTICOS SEMANA 3 ===================== -->
    <div class="subsection" style="background:#e3f2fd; border-left:6px solid #1976d2;">
        <h3 style="color:#0d47a1;"><i class="fas fa-rocket"></i> Anexo A. Guía de despliegue (GitHub Pages + Render)</h3>
        <p>Esta guía te acompaña paso a paso para poner tu proyecto en línea. Diferenciamos entre contenido estático (solo HTML/CSS/JS) y aplicación dinámica (Flask + SQLite).</p>
        <h4>1. Despliegue estático (GitHub Pages)</h4>
        <ol>
            <li><strong>Estructura mínima:</strong> Debes tener un archivo <code>index.html</code> en la raíz del repositorio.</li>
            <li><strong>Subir al repositorio:</strong> Crea un repo en GitHub (nombre sugerido: <em>flask-dashboard-academico</em>). Haz commit y push de tus archivos estáticos.</li>
            <li><strong>Activar Pages:</strong> En GitHub → Settings → Pages → Source: selecciona rama <em>main</em> y carpeta <em>/(root)</em>.</li>
            <li><strong>Esperar build:</strong> En ~1–2 minutos tendrás una URL parecida a: <code>https://TU_USUARIO.github.io/flask-dashboard-academico/</code>.</li>
            <li><strong>Probar:</strong> Abre la URL en navegador privado para validar cache.</li>
        </ol>
        <p><strong>Limitación:</strong> GitHub Pages no ejecuta Python; solo sirve archivos estáticos. Para Flask usaremos Render.</p>
        <h4>2. Despliegue dinámico (Render + Flask)</h4>
        <ol>
            <li><strong>Crear entorno:</strong> Asegúrate de tener un <code>requirements.txt</code> con las dependencias reales.</li>
            <li><strong>Archivo Procfile:</strong> Indica a Render cómo lanzar tu app (gunicorn).</li>
            <li><strong>Base de datos:</strong> Para prototipo simple puedes usar SQLite (archivo). Para producción real considera Postgres.</li>
            <li><strong>Variables de entorno:</strong> Configura <code>SECRET_KEY</code> y (opcional) <code>DATABASE_URL</code>.</li>
            <li><strong>Crear servicio:</strong> En Render → New → Web Service → Conecta tu repo.</li>
            <li><strong>Build Command:</strong> (vacío o <code>pip install -r requirements.txt</code>). Start Command: <code>gunicorn app:app</code> (ajusta si tu archivo principal se llama distinto).</li>
        </ol>
    <h5>Ejemplo de requirements.txt</h5>
<pre><code class="language-text">flask==3.0.0
gunicorn==21.2.0
itsdangerous==2.1.2
Jinja2==3.1.2
Werkzeug==3.0.0
click==8.1.7
pysqlite3-binary==0.5.3  # opcional: solo si tu entorno no trae sqlite3 incluido</code></pre>
        <h5>Ejemplo de Procfile</h5>
<pre><code class="language-text">web: gunicorn app:app --log-file -</code></pre>
        <h5>Archivo app.py mínimo</h5>
<pre><code class="language-python">from flask import Flask
app = Flask(__name__)

@app.route('/')
def index():
    return 'Aplicación desplegada correctamente ✅'

if __name__ == '__main__':
    app.run()</code></pre>
        <p><strong>Checklist de verificación post-despliegue:</strong></p>
        <ul>
            <li>La URL responde con código 200.</li>
            <li>Archivos estáticos (CSS/JS) cargan sin 404.</li>
            <li>Operaciones CRUD funcionan y persisten.</li>
            <li>Gráficos consumen datos (API responde JSON válido).</li>
            <li>No aparece traceback en pantalla (manejo de errores correcto).</li>
        </ul>
        <h5>Errores comunes</h5>
        <ul>
            <li><strong>ModuleNotFoundError:</strong> Falta dependencia en <code>requirements.txt</code>.</li>
            <li><strong>Timeout:</strong> App no inicia (ver logs → quizá ruta principal mal nombrada).</li>
            <li><strong>500 en gráficos:</strong> Endpoint devuelve tipos no serializables (usa dicts con valores primitivos).</li>
        </ul>
    </div>
    <div class="subsection" style="background:#f1f8e9; border-left:6px solid #558b2f;">
        <h3 style="color:#33691e;"><i class="fas fa-layer-group"></i> Anexo B. Plantillas, herencia y macros</h3>
        <p>Para evitar duplicar HTML (navbars, footer, estilos) usamos la herencia de Jinja2. Creamos una plantilla base y extendemos.</p>
        <h4>1. Estructura sugerida</h4>
<pre><code class="language-text">/app
  /templates
    base.html
    layout.html (opcional)
    estudiantes_list.html
    estudiantes_form.html
    dashboard.html
  /static
    /css
    /js</code></pre>
        <h4>2. base.html</h4>
<pre><code class="language-html">&lt;!doctype html&gt;
&lt;html lang="es"&gt;
  &lt;head&gt;
    &lt;meta charset="utf-8"/&gt;
    &lt;title&gt;Sistema Académico&lt;/title&gt;
    &lt;link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"/&gt;
  &lt;/head&gt;
  &lt;body class="bg-light"&gt;
    &lt;nav class="navbar navbar-dark bg-primary navbar-expand-lg"&gt;
      &lt;div class="container"&gt;
        &lt;a class="navbar-brand" href="/"&gt;Académico&lt;/a&gt;
        &lt;div class="navbar-nav"&gt;
          &lt;a class="nav-link" href="/estudiantes"&gt;Estudiantes&lt;/a&gt;
          &lt;a class="nav-link" href="/dashboard"&gt;Dashboard&lt;/a&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/nav&gt;
    &lt;main class="container py-4"&gt;
      {% with msgs = get_flashed_messages() %}
        {% if msgs %}
          &lt;div class="alert alert-info" role="alert"&gt;{{ msgs[0] }}&lt;/div&gt;
        {% endif %}
      {% endwith %}
      {% block contenido %}{% endblock %}
    &lt;/main&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
        <h4>3. Uso de bloques</h4>
<pre><code class="language-html">{% extends 'base.html' %}
{% block contenido %}
  &lt;h1 class="h3"&gt;Listado de estudiantes&lt;/h1&gt;
  &lt;table class="table table-striped"&gt; ... &lt;/table&gt;
{% endblock %}</code></pre>
        <h4>4. Macros simples</h4>
<pre><code class="language-html">{% macro campo(label, name, tipo='text') %}
  &lt;div class="mb-3"&gt;
    &lt;label class="form-label" for="{{ name }}"&gt;{{ label }}&lt;/label&gt;
    &lt;input class="form-control" type="{{ tipo }}" name="{{ name }}" id="{{ name }}" required /&gt;
  &lt;/div&gt;
{% endmacro %}</code></pre>
        <p>En tu formulario: <code>{% from 'macros.html' import campo %}</code> y luego <code>{{ campo('Nombre','nombre') }}</code>.</p>
    </div>
    <div class="subsection" style="background:#fff8e1; border-left:6px solid #ff8f00;">
        <h3 style="color:#e65100;"><i class="fas fa-question-circle"></i> Anexo C. Preguntas frecuentes ampliadas (FAQ)</h3>
        <details open>
            <summary><strong>¿Por qué usar Flask y no solo HTML?</strong></summary>
            <p>Porque necesitas lógica de servidor: almacenar datos, validarlos, procesar formularios, generar páginas dinámicas y exponer APIs.</p>
        </details>
        <details>
            <summary><strong>¿Puedo usar otra base de datos?</strong></summary>
            <p>Sí. Cambia SQLite por Postgres/MySQL. Adapta la cadena de conexión y librerías (<code>psycopg2</code>, <code>mysqlclient</code>).</p>
        </details>
        <details>
            <summary><strong>¿Cómo manejo contraseñas?</strong></summary>
            <p>Nunca guardes texto plano. Usa <code>werkzeug.security.generate_password_hash()</code> y <code>check_password_hash()</code>.</p>
        </details>
        <details>
            <summary><strong>¿Qué pasa si dos usuarios editan a la vez?</strong></summary>
            <p>Introduce control de concurrencia optimista: guarda timestamp y valida si cambió antes de actualizar.</p>
        </details>
        <details>
            <summary><strong>¿Cómo agrego paginación real?</strong></summary>
            <p>Usa <code>LIMIT</code> y <code>OFFSET</code> en SQL y parámetros de query (?page=2). Calcula total de páginas.</p>
        </details>
        <details>
            <summary><strong>¿Cómo organizo un proyecto grande?</strong></summary>
            <p>Divide en Blueprints (auth, estudiantes, dashboard), usa un paquete <code>app/</code> con <code>__init__.py</code> que crea y configura la instancia Flask.</p>
        </details>
        <details>
            <summary><strong>¿Cómo testeo endpoints?</strong></summary>
            <p>Con <code>pytest</code> y el cliente de pruebas de Flask. Ver Anexo E.</p>
        </details>
    </div>
    <div class="subsection" style="background:#ede7f6; border-left:6px solid #5e35b1;">
        <h3 style="color:#311b92;"><i class="fas fa-book"></i> Anexo D. Glosario esencial</h3>
        <dl>
            <dt>CRUD</dt><dd>Create, Read, Update, Delete: operaciones básicas de persistencia.</dd>
            <dt>Endpoint</dt><dd>URL específica que procesa una petición y entrega una respuesta.</dd>
            <dt>Blueprint</dt><dd>Módulo de Flask que agrupa rutas y lógica para modularizar.</dd>
            <dt>Contexto de aplicación</dt><dd>Entorno donde Flask guarda datos temporales (config, request).</dd>
            <dt>ORM</dt><dd>Capa que mapea objetos a tablas (no usamos aquí, pero existe: SQLAlchemy).</dd>
            <dt>Hash</dt><dd>Resultado de aplicar función irreversible a un texto (para proteger contraseñas).</dd>
            <dt>Wsgi/Gunicorn</dt><dd>Servidor intermedio que ejecuta aplicaciones Python en producción.</dd>
            <dt>Serialización</dt><dd>Transformar objetos a formato transmitible (ej. JSON).</dd>
        </dl>
    </div>
    <div class="subsection" style="background:#fce4ec; border-left:6px solid #d81b60;">
        <h3 style="color:#880e4f;"><i class="fas fa-vial"></i> Anexo E. Autenticación básica + pruebas</h3>
        <p>Una capa mínima de autenticación mejora seguridad y permite restringir acciones (por ejemplo, borrar registros).</p>
        <h4>1. Tabla de usuarios</h4>
<pre><code class="language-sql">CREATE TABLE usuarios (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  username TEXT UNIQUE NOT NULL,
  password_hash TEXT NOT NULL
);</code></pre>
        <h4>2. Registro / creación manual</h4>
<pre><code class="language-python">from werkzeug.security import generate_password_hash, check_password_hash

def crear_usuario(username, password):
    with get_conn() as c:
        c.execute('INSERT INTO usuarios(username, password_hash) VALUES (?, ?)', (
            username, generate_password_hash(password)
        ))</code></pre>
        <h4>3. Login simple</h4>
<pre><code class="language-python">from flask import session, redirect, request, flash

@app.route('/login', methods=['GET','POST'])
def login():
    if request.method == 'POST':
        u = request.form['username']
        p = request.form['password']
        with get_conn() as c:
            row = c.execute('SELECT * FROM usuarios WHERE username=?', (u,)).fetchone()
        if row and check_password_hash(row['password_hash'], p):
            session['user'] = u
            flash('Bienvenido ' + u)
            return redirect('/')
        flash('Credenciales inválidas')
    return render_template('login.html')</code></pre>
        <h4>4. Decorador de protección</h4>
<pre><code class="language-python">from functools import wraps
from flask import session, redirect

def login_requerido(f):
    @wraps(f)
    def wrapper(*args, **kwargs):
        if 'user' not in session:
            return redirect('/login')
        return f(*args, **kwargs)
    return wrapper</code></pre>
        <h4>5. Aplicar a una ruta sensible</h4>
<pre><code class="language-python">@app.route('/delete/&lt;int:id&gt;', methods=['POST'])
@login_requerido
def borrar(id):
    # ... borrar registro ...
    flash('Eliminado')
    return redirect('/')</code></pre>
        <h4>6. Pruebas automáticas (pytest)</h4>
<pre><code class="language-python"># test_app.py
import pytest
from app import app

@pytest.fixture
def cliente():
    app.config['TESTING'] = True
    with app.test_client() as c:
        yield c

def test_index_ok(cliente):
    r = cliente.get('/')
    assert r.status_code == 200

def test_api_estadisticas_json(cliente):
    r = cliente.get('/api/estadisticas')
    assert r.is_json</code></pre>
        <p><strong>Ejecutar pruebas:</strong></p>
<pre><code class="language-bash">pytest -q</code></pre>
        <p>Si todo pasa, tu base es más confiable. Agrega pruebas para formularios y validaciones a medida que crece el proyecto.</p>
    </div>
        <div class="subsection" style="background:#fffde7; border-left:6px solid #fbc02d;">
                <h3 style="color:#e65100;"><i class="fas fa-user-shield"></i> Anexo G. Vista admin vs usuario (roles simples)</h3>
                <p style="font-size:14px;">Implementa una diferencia mínima: <strong>admin</strong> puede editar y eliminar; <strong>user</strong> solo ve la lista. No profundizamos en seguridad avanzada: es para práctica didáctica.</p>
                <h4 style="color:#1a237e;">1. Tabla y semilla</h4>
                <pre><code class="language-sql">CREATE TABLE IF NOT EXISTS usuarios (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    username TEXT UNIQUE NOT NULL,
    password_hash TEXT NOT NULL,
    role TEXT NOT NULL CHECK(role IN ('admin','user'))
);</code></pre>
                <pre><code class="language-python"># seed_roles.py
from werkzeug.security import generate_password_hash
from db import get_conn
with get_conn() as c:
        c.execute('CREATE TABLE IF NOT EXISTS usuarios (id INTEGER PRIMARY KEY AUTOINCREMENT, username TEXT UNIQUE, password_hash TEXT, role TEXT)')
        c.execute('INSERT OR IGNORE INTO usuarios(username,password_hash,role) VALUES (?,?,?)', ('admin', generate_password_hash('123456'), 'admin'))
        c.execute('INSERT OR IGNORE INTO usuarios(username,password_hash,role) VALUES (?,?,?)', ('user', generate_password_hash('123456'), 'user'))
print('✓ Usuarios admin/user listos')</code></pre>
                <h4 style="color:#1a237e;">2. Login/logout y decoradores</h4>
                <pre><code class="language-python">from flask import session
from functools import wraps
from werkzeug.security import check_password_hash

def login_requerido(f):
    @wraps(f)
    def w(*a, **kw):
        if 'user' not in session:
            return redirect(url_for('login'))
        return f(*a, **kw)
    return w

def admin_requerido(f):
    @wraps(f)
    def w(*a, **kw):
        if session.get('role') != 'admin':
            flash('Solo admin','danger'); return redirect(url_for('lista'))
        return f(*a, **kw)
    return w</code></pre>
                <pre><code class="language-python">@app.route('/login', methods=['GET','POST'])
def login():
    if request.method == 'POST':
        u = request.form['username']; p = request.form['password']
        with get_conn() as c:
            row = c.execute('SELECT * FROM usuarios WHERE username=?',(u,)).fetchone()
        if row and check_password_hash(row['password_hash'], p):
            session['user']=u; session['role']=row['role']; flash('Bienvenido '+u,'success'); return redirect('/')
        flash('Credenciales inválidas','danger')
    return render_template('login.html')

@app.route('/logout')
def logout():
    session.clear(); flash('Sesión cerrada','info'); return redirect('/')</code></pre>
                <h4 style="color:#1a237e;">3. Plantilla condicional</h4>
                <pre><code class="language-html">&lt;td&gt;
{% if session.get('role') == 'admin' %}
    &lt;form method="post" action="/editar/{{ e.id }}"&gt;...&lt;/form&gt;
    &lt;form method="post" action="/eliminar/{{ e.id }}" onsubmit="return confirm('¿Eliminar?');"&gt;
        &lt;button class="btn btn-sm btn-danger"&gt;Eliminar&lt;/button&gt;
    &lt;/form&gt;
{% else %}
    &lt;span class="badge bg-secondary"&gt;Solo lectura&lt;/span&gt;
{% endif %}
&lt;/td&gt;</code></pre>
                <h4 style="color:#1a237e;">4. Mini checklist de roles</h4>
                <ul style="font-size:14px;">
                    <li>¿Se crea la tabla <code>usuarios</code> antes de usar login?</li>
                    <li>¿Admin ve botones de edición y eliminación?</li>
                    <li>¿User solo ve listado sin acciones?</li>
                    <li>¿<code>session.clear()</code> cierra la sesión correctamente?</li>
                </ul>
                <p style="font-size:12px;">Este es un ejemplo educativo simplificado: no incluye protección contra CSRF ni hashing avanzado configurable.</p>
        </div>
    <div class="subsection" style="background:#fffde7; border-left:6px solid #fbc02d;">
        <h3 style="color:#f57f17;"><i class="fas fa-list-ul"></i> Anexo F. Chuleta rápida (Jinja + CRUD + SQL)</h3>
        <p style="margin:6px 0 10px 0;">Resumen mínimo para recordar cómo conectar formulario → ruta → base de datos.</p>
        <h4>1. Jinja esencial</h4>
<pre><code class="language-html">&lt;!-- Variable --&gt;
&lt;p&gt;Hola {{ nombre }}&lt;/p&gt;
&lt;!-- If --&gt;
{% if promedio &gt;= 60 %}Aprobado{% else %}Reprobado{% endif %}
&lt;!-- For --&gt;
&lt;ul&gt;{% for e in estudiantes %}&lt;li&gt;{{ e.nombre }}&lt;/li&gt;{% endfor %}&lt;/ul&gt;
&lt;!-- Filtros --&gt;
{{ e.nombre|upper }} | total: {{ estudiantes|length }} | prom: {{ e.promedio|round(1) }}</code></pre>
        <h4>2. Rutas CRUD mínimas</h4>
<pre><code class="language-python">from flask import Flask, render_template, request, redirect, url_for, flash
import sqlite3

app = Flask(__name__); app.secret_key='dev'

def get_conn():
    c = sqlite3.connect('escuela.db'); c.row_factory = sqlite3.Row; return c

@app.route('/')
def lista():
    with get_conn() as c:
        ests = c.execute('SELECT id,nombre,grado,promedio FROM estudiantes').fetchall()
    return render_template('inicio.html', estudiantes=ests)

@app.route('/crear', methods=['POST'])
def crear():
    nombre = request.form['nombre'].strip(); grado = request.form['grado']; prom = float(request.form['promedio'])
    with get_conn() as c:
        c.execute('INSERT INTO estudiantes(nombre,grado,promedio) VALUES(?,?,?)',(nombre,grado,prom))
    flash('Creado','success'); return redirect(url_for('lista'))</code></pre>
        <h4>3. Formulario HTML</h4>
<pre><code class="language-html">&lt;form method="post" action="/crear" class="row g-2"&gt;
  &lt;input name="nombre" placeholder="Nombre" required class="form-control" /&gt;
  &lt;input name="grado" placeholder="Grado" required class="form-control" /&gt;
  &lt;input name="promedio" type="number" min="0" max="100" step="0.1" class="form-control" /&gt;
  &lt;button class="btn btn-primary"&gt;Guardar&lt;/button&gt;
&lt;/form&gt;</code></pre>
        <h4>4. SQL básico</h4>
<pre><code class="language-sql">CREATE TABLE IF NOT EXISTS estudiantes (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  nombre TEXT NOT NULL,
  grado TEXT NOT NULL,
  promedio REAL NOT NULL
);
INSERT INTO estudiantes(nombre,grado,promedio) VALUES (?,?,?);
SELECT id,nombre,grado,promedio FROM estudiantes;
UPDATE estudiantes SET nombre=?, grado=?, promedio=? WHERE id=?;
DELETE FROM estudiantes WHERE id=?;</code></pre>
        <ul style="margin-top:8px;">
            <li><strong>name="..."</strong> en el input coincide con <code>request.form['...']</code>.</li>
            <li>Usa <code>?</code> en SQL siempre (parametrizado).</li>
            <li>Tras crear/editar/eliminar: <code>flash()</code> + <code>redirect()</code>.</li>
            <li>Empieza solo con Flask; luego añade pruebas o despliegue.</li>
        </ul>
    </div>
    <!-- =================== FIN ANEXOS DIDÁCTICOS SEMANA 3 =================== -->
    <div class="subsection" style="background:#fff3e0; border-left-color:#ff9800;">
        <h3 style="color:#e65100;"><i class="fas fa-bug"></i> Errores comunes y soluciones</h3>
        <ul>
            <li><strong>ImportError: flask</strong> → Activar venv e instalar Flask con <code>pip install flask</code>.</li>
            <li><strong>no such table</strong> → Ejecuta la creación de tabla (usa el script o función de inicialización).</li>
            <li><strong>405 Method Not Allowed</strong> → La ruta requiere <code>methods=['POST']</code> y el formulario <code>method="post"</code>.</li>
            <li><strong>JSON inválido para gráficos</strong> → Retorna solo tipos primitivos (números, cadenas), no objetos complejos.</li>
            <li><strong>Mensajes flash no aparecen</strong> → Confirma <code>app.secret_key</code> y el bloque de mensajes en la plantilla.</li>
        </ul>
        <p style="font-size:13px;">Tip: prueba el endpoint de API abriéndolo en una pestaña del navegador. Si ves JSON, la API está bien.</p>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-markup.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-sql.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</body>
</html>
